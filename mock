import org.junit.jupiter.api.Test;
import org.mockito.InjectMocks;
import org.mockito.Mock;
import org.mockito.Mockito;
import org.springframework.boot.test.context.SpringBootTest;

import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.mockito.Mockito.when;

@SpringBootTest 1 
public class LscsadTokenSupplierTest {

    @InjectMocks
    private LscsadTokenSupplier lscsadTokenSupplier;

    @Mock
    private LscsadTokenSupplierProperties props;

    @Mock
    private ClientRegistrationRepository clientRegistrationRepository;

    @Mock
    private TokenSupplier.Type tokenSupplierType;

    @Mock
    private ClientRegistration clientRegistration;

    @Test
    public void testLscsadTokenSupplier() {
        // Setup mocks
        when(props.getType()).thenReturn(tokenSupplierType);
        when(props.getProvider()).thenReturn("myProvider");
        when(clientRegistrationRepository.findByRegistrationId(props.getProvider())).thenReturn(clientRegistration);
        when(tokenSupplierType.generateSupplier(clientRegistration)).thenReturn(() -> "myToken");

        // Call the method
        TokenSupplier tokenSupplier = lscsadTokenSupplier.lscsadTokenSupplier(props, clientRegistrationRepository);

        // Assert the result
        assertEquals("myToken", tokenSupplier.get());
    }
}
